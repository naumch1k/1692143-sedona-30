const interestedButton=document.querySelector(".interested__button"),modal=document.querySelector(".modal"),searchForm=modal.querySelector(".search-form"),checkIn=modal.querySelector("[name=check-in]"),checkOut=modal.querySelector("[name=check-out]"),adults=modal.querySelector("[name=adults]"),kids=modal.querySelector("[name=kids]"),adultsStorage=localStorage.getItem("adults"),kidsStorage=localStorage.getItem("kids"),modalHidden=localStorage.getItem("modal-hidden");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("adults")}catch(e){isStorageSupport=!1}"true"==modalHidden&&isStorageSupport?modal.classList.add("modal_hidden"):modal.classList.remove("modal_hidden"),interestedButton.addEventListener("click",function(e){e.preventDefault(),modal.classList.contains("modal_hidden")?(modal.classList.remove("modal_hidden"),modal.classList.remove("modal_error"),localStorage.setItem("modal-hidden","false"),checkIn.focus({preventScroll:!0}),adultsStorage&&(adults.value=adultsStorage),kidsStorage&&(kids.value=kidsStorage)):(modal.classList.add("modal_hidden"),localStorage.setItem("modal-hidden","true"))}),searchForm.addEventListener("submit",function(e){checkIn.value&&checkOut.value&&adults.value&&kids.value?isStorageSupport&&(localStorage.setItem("adults",adults.value),localStorage.setItem("kids",kids.value)):(e.preventDefault(),modal.classList.remove("modal_error"),modal.offsetWidth=modal.offsetWidth,modal.classList.add("modal_error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(modal.classList.contains("modal_hidden")||(e.preventDefault(),modal.classList.add("modal_hidden"),modal.classList.remove("modal_error")))});